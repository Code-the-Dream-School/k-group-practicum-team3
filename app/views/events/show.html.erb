<h1>Event Details</h1>

<div style="border: 1px solid #333; padding: 16px; max-width: 700px;">

  <p>
    <strong>Title:</strong>
    <%= @event.title %>
  </p>

  <p>
    <strong>Category:</strong>
    <%= @event.category.titleize %>
  </p>
  <p>
    <strong>RSVP:</strong> <%= @event.rsvp.humanize %>
  </p>
  <p>
    <strong>Organizer:</strong>
    <% if @event.user.present? %>
      <%= [@event.user.first_name, @event.user.last_name].compact.join(" ").presence || @event.user.email %>
    <% else %>
      N/A
    <% end %>
  </p>
  <p>
    <strong>Location:</strong>
     <%= [@event.location, @event.city, @event.state].compact_blank.join(", ").presence || "Online / N/A" %>
  </p>

  <p>
    <strong>Event Time:</strong>
    <%= @event.starts_at.strftime("%Y-%m-%d %I:%M %p") if @event.starts_at %>
  </p>

  <p>
    <strong>Age Range:</strong>
    <% if @event.min_age.present? || @event.max_age.present? %>
      <%= @event.min_age || "?" %> â€“ <%= @event.max_age || "?" %>
    <% else %>
      Any
    <% end %>
  </p>

  <p>
    <strong>Allowed Gender:</strong>
    <%= @event.allowed_gender.humanize %>
  </p>

  <% if @event.price.present? %>
    <p>
      <strong>Price:</strong>
      <%= @event.price.to_i == 0 ? "Free" : "$#{@event.price}" %>
    </p>
  <% end %>
   <% if @event.description.present? %>
    <p>
      <strong>Description:</strong><br>
      <%= simple_format(@event.description) %>
    </p>
  <% end %>

    <hr>
  <p>
    <%= link_to "Back to Events", events_path %>

    <% if current_user&.admin? || current_user&.id == @event.user_id %>
      | <%= link_to "Edit", edit_event_path(@event) %>
      | <%= link_to "Delete", event_path(@event),
            method: :delete,
            data: { turbo_confirm: "Are you sure you want to delete this event?" } %>
    <% end %>
  </p>

</div>