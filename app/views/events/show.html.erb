<h1>Event Details</h1>

<div style="border: 1px solid #333; padding: 16px; max-width: 700px;">

  <p>
    <strong>Title:</strong>
    <%= @event.title %>
  </p>

  <p>
    <strong>Category:</strong>
    <%= @event.category.titleize %>
  </p>

  <p>
    <strong>Location:</strong>
    <%= @event.city.presence || "Online / N/A" %>
  </p>

  <p>
    <strong>Event Time:</strong>
    <%= @event.starts_at.strftime("%Y-%m-%d %I:%M %p") if @event.starts_at %>
  </p>

  <% if @event.ends_at.present? %>
    <p>
      <strong>End Time:</strong>
      <%= @event.ends_at.strftime("%Y-%m-%d %I:%M %p") %>
    </p>
  <% end %>

  <p>
    <strong>Age Range:</strong>
    <% if @event.age_min.present? || @event.age_max.present? %>
      <%= @event.age_min || "?" %> â€“ <%= @event.age_max || "?" %>
    <% else %>
      Any
    <% end %>
  </p>

  <p>
    <strong>Allowed Gender:</strong>
    <%= @event.allowed_gender.humanize %>
  </p>

  <% if @event.price.present? %>
    <p>
      <strong>Price:</strong>
      <%= @event.price.zero? ? "Free" : "$#{@event.price}" %>
    </p>
  <% end %>

  <p>
    <strong>Organizer:</strong>
    <%= @event.organizer&.name || @event.organizer&.email %>
  </p>

  <% if @event.description.present? %>
    <p>
      <strong>Description:</strong><br>
      <%= simple_format(@event.description) %>
    </p>
  <% end %>

  <hr>

  <p>
    <%= link_to "Back to Events", events_path %>

    <% if current_user&.admin? || current_user&.id == @event.organizer_id %>
      | <%= link_to "Edit", edit_event_path(@event) %>
      | <%= link_to "Delete", event_path(@event),
            method: :delete,
            data: { turbo_confirm: "Are you sure you want to delete this event?" } %>
    <% end %>
  </p>

</div>
